<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal Troubleshooting</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            color: #6F4E37;
            margin-top: 0;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #6F4E37;
            padding-bottom: 10px;
        }
        .step {
            background: #f9f9f9;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #6F4E37;
            border-radius: 4px;
        }
        .step h3 {
            margin-top: 0;
            color: #6F4E37;
        }
        code {
            background: #e0e0e0;
            padding: 3px 8px;
            border-radius: 3px;
            font-family: monospace;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 10px 5px;
            background: #6F4E37;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
        }
        .btn:hover {
            background: #5a3d2a;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>üîß Student Portal Troubleshooting</h1>
        <p>If your student portal is not loading data or showing updates, follow these steps:</p>
    </div>

    <div class="card">
        <h2>Step 1: Clear Browser Cache</h2>
        <div class="step">
            <h3>Method 1: Hard Refresh (Fastest)</h3>
            <p>Press <code>Ctrl + Shift + R</code> (Windows/Linux) or <code>Cmd + Shift + R</code> (Mac)</p>
            <p>This forces the browser to reload all resources from the server.</p>
        </div>

        <div class="step">
            <h3>Method 2: Clear Cache Manually</h3>
            <ol>
                <li>Press <code>Ctrl + Shift + Delete</code> to open browser settings</li>
                <li>Select "Cached images and files"</li>
                <li>Choose "All time" for the time range</li>
                <li>Click "Clear data"</li>
                <li>Close and reopen your browser</li>
            </ol>
        </div>
    </div>

    <div class="card">
        <h2>Step 2: Open Developer Console</h2>
        <div class="step">
            <p>Press <code>F12</code> or <code>Ctrl + Shift + I</code> to open Developer Tools</p>
            <p>Click on the <strong>Console</strong> tab</p>
            <p>You should see messages like:</p>
            <ul>
                <li>üéì Student Dashboard - Initializing...</li>
                <li>üì° Loading data from API...</li>
                <li>‚úÖ Data loaded successfully</li>
                <li>üìö Student Dashboard - Loading books: X books</li>
                <li>üìä Rendered X books in table view</li>
            </ul>
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è If you see any RED error messages:</strong>
            <p>Take a screenshot and share it for troubleshooting.</p>
        </div>
    </div>

    <div class="card">
        <h2>Step 3: Check LocalStorage Data</h2>
        <div class="step">
            <p>In Developer Tools (F12):</p>
            <ol>
                <li>Click on the <strong>Application</strong> tab (Chrome) or <strong>Storage</strong> tab (Firefox)</li>
                <li>Expand <strong>Local Storage</strong> in the left sidebar</li>
                <li>Click on your domain (localhost:8000)</li>
                <li>Look for these keys:
                    <ul>
                        <li><code>lib_books</code> - should have book data</li>
                        <li><code>lib_members</code> - should have member data</li>
                        <li><code>lib_users</code> - should have user data</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <div class="card">
        <h2>Quick Access Links</h2>
        <div style="text-align: center; padding: 20px;">
            <a href="http://localhost:8000/" class="btn">üè† Home</a>
            <a href="http://localhost:8000/login.html?role=student" class="btn">üîê Student Login</a>
            <a href="http://localhost:8000/register.html" class="btn">üìù Register</a>
            <a href="http://localhost:8000/debug-storage.html" class="btn">üîç Debug Storage</a>
        </div>
    </div>

    <div class="card">
        <div class="success">
            <h3>‚úÖ Latest Updates Deployed:</h3>
            <ul>
                <li>Gallery view for students and librarians</li>
                <li>Profile photo feature for all users</li>
                <li>Photos display in QR scans</li>
                <li>Photos in admin user management</li>
                <li>Enhanced debugging logs</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <h2>Still Having Issues?</h2>
        <div class="step">
            <h3>Option 1: Reset Everything</h3>
            <p>If nothing works, you can reset all data:</p>
            <ol>
                <li>Open Developer Console (F12)</li>
                <li>Go to Console tab</li>
                <li>Type: <code>localStorage.clear()</code></li>
                <li>Press Enter</li>
                <li>Refresh the page (F5)</li>
            </ol>
            <p><strong>Note:</strong> This will remove all saved data including login sessions.</p>
        </div>

        <div class="step">
            <h3>Option 2: Use Incognito/Private Mode</h3>
            <p>Open your browser in incognito/private mode to test without cache:</p>
            <ul>
                <li>Chrome: <code>Ctrl + Shift + N</code></li>
                <li>Firefox: <code>Ctrl + Shift + P</code></li>
                <li>Edge: <code>Ctrl + Shift + N</code></li>
            </ul>
        </div>
    </div>

    <script>
        console.log('üîß Troubleshooting page loaded');
        console.log('üì¶ Current localStorage keys:', Object.keys(localStorage));
    </script>
</body>
</html>
